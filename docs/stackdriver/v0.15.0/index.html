---
layout: yard_main
title: "File: README - Stackdriver"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


<div class="nav_wrap">
  <iframe id="nav" src="class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><div id='filecontents'><h1>stackdriver</h1>

<p>This gem instruments a Ruby web application for Stackdriver diagnostics. When
loaded, it integrates with Rails, Sinatra, or other Rack-based web frameworks
to collect application diagnostic and monitoring information for your
application.</p>

<p>Specifically, this gem is a convenience package that loads and automatically
activates the instrumentation features of the following gems:</p>

<ul>
<li>  <a href="../google-cloud-debugger">google-cloud-debugger</a> which enables remote
debugging using <a href="https://cloud.google.com/debugger/">Stackdriver Debugger</a></li>
<li>  <a href="../google-cloud-error_reporting">google-cloud-error_reporting</a> which
reports unhandled exceptions and other errors to
<a href="https://cloud.google.com/error-reporting/">Stackdriver Error Reporting</a></li>
<li>  <a href="../google-cloud-logging">google-cloud-logging</a> which collects application
logs in <a href="https://cloud.google.com/logging/">Stackdriver logging</a></li>
<li>  <a href="../google-cloud-trace">google-cloud-trace</a> which reports distributed
latency traces to <a href="https://cloud.google.com/trace/">Stackdriver Trace</a></li>
</ul>

<h2>Quick Start</h2>

<h3>Install the gem</h3>

<p>Add the <code>stackdriver</code> gem to your Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stackdriver</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<h3>Instrument your code</h3>

<h4>Using Ruby on Rails</h4>

<p>If you are running Ruby on Rails, the <code>stackdriver</code> gem will automatically
install Railties that will instrument your application for basic diagnostics.
In most applications, the gem will initialize itself, and you will not need to
write any additional code.</p>

<p>If your Rails application has removed the <code>Bundler.require</code> line in the
<code>application.rb</code> initialization file, then you might need to require the gem
explicitly with:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In application.rb
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stackdriver</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<h4>Other Rack-based frameworks</h4>

<p>If you are running another Rack-based framework, such as Sinatra, you should
install the Rack Middleware provided by each library you want to use:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In your Rack middleware configuration code.
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stackdriver</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>Google</span><span class='op'>::</span><span class='const'>Cloud</span><span class='op'>::</span><span class='const'>Logging</span><span class='op'>::</span><span class='const'>Middleware</span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>Google</span><span class='op'>::</span><span class='const'>Cloud</span><span class='op'>::</span><span class='const'>ErrorReporting</span><span class='op'>::</span><span class='const'>Middleware</span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>Google</span><span class='op'>::</span><span class='const'>Cloud</span><span class='op'>::</span><span class='const'>Trace</span><span class='op'>::</span><span class='const'>Middleware</span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>Google</span><span class='op'>::</span><span class='const'>Cloud</span><span class='op'>::</span><span class='const'>Debugger</span><span class='op'>::</span><span class='const'>Middleware</span>
</code></pre>

<h4>Advanced instrumentation</h4>

<p>See the individual gem documentation for each gem for information on how to
customize the instrumentation, e.g. how to manually report errors or add custom
spans to latency traces.</p>

<h3>Viewing diagnostic reports</h3>

<p>Logs, errors, traces, and other reports can be viewed on the Google Cloud
Console. If your app is hosted on Google Cloud (such as on Google App Engine,
Google Kubernetes Engine, or Google Compute Engine), you can use the same
project. Otherwise, if your application is hosted elsewhere, create a new
project on <a href="https://console.cloud.google.com/">Google Cloud</a>.</p>

<p>Make sure the
<a href="https://console.cloud.google.com/apis/library/clouderrorreporting.googleapis.com">Stackdriver Error Reporting API</a>
is enabled on your Google Cloud project. (The other service APIs---debugging,
logging, and tracing---are enabled by default on all new projects.)</p>

<h4>Authentication</h4>

<p>Your app also needs to authenticate with the Stackdriver services in order to
send data.</p>

<ul>
<li>  If you are running on <strong>Google App Engine</strong>, authentication happens
automatically. You do not need to do anything.</li>
<li>  If you are running on <strong>Google Kubernetes Engine</strong>, you must explicitly add
<code>https://www.googleapis.com/auth/cloud-platform</code> to the API access scopes
when creating the cluster. Authentication will then happen automatically.</li>
<li>  If you are running on <strong>Google Compute Engine</strong>, you must explicitly add
<code>https://www.googleapis.com/auth/cloud-platform</code> to the API access scopes
when creating the VM. Authentication will then happen automatically.</li>
<li><p>If you are not running on a Google Cloud hosting environment, you must set
up a service account, and provide the Stackdriver library with the ID of
your Google Cloud project, and the service account credentials.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In your app initialization code
</span><span class='const'>Google</span><span class='op'>::</span><span class='const'>Cloud</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your-project-id</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_credentials'>credentials</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/path/to/servce-account-keyfile.json</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre></li>
</ul>

<p>See the gem documentation for each individual gem for more information.</p>

<h2>Compatibility</h2>

<p>This library is supported on Ruby 2.2+.</p>

<p>However, Ruby 2.3 or later is strongly recommended, as earlier releases have
reached or are nearing end-of-life. After June 1, 2018, Google will provide
official support only for Ruby versions that are considered current and
supported by Ruby Core (that is, Ruby versions that are either in normal
maintenance or in security maintenance).
See <a href="https://www.ruby-lang.org/en/downloads/branches/">https://www.ruby-lang.org/en/downloads/branches/</a> for further details.</p>

<p>This library follows <a href="http://semver.org/">Semantic Versioning</a>.
It is currently in major version zero (0.y.z), which means that anything may change at any time and the public API should not be considered stable.</p>

<h2>Contributing</h2>

<p>Contributions to this library are always welcome and highly encouraged.</p>

<p>See the <a href="https://googlecloudplatform.github.io/stackdriver-ruby/#/docs/guides/contributing">Contributing Guide</a> for more information on how to get started.</p>

<p>Please note that this project is released with a Contributor Code of Conduct. By participating in this project you agree to abide by its terms. See <a href="../CODE_OF_CONDUCT.md">Code of Conduct</a> for more information.</p>

<h2>License</h2>

<p>This library is licensed under Apache 2.0. Full license text is available in <a href="LICENSE">LICENSE</a>.</p>

<h2>Support</h2>

<p>Please <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues">report bugs at the project on Github</a>.
Don&#39;t hesitate to <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby">ask questions</a> about the client or APIs on <a href="http://stackoverflow.com">StackOverflow</a>.</p>
</div></div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
