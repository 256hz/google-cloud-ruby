---
layout: yard_main
title: "Class: Google::Cloud::Bigquery::QueryJob::Updater - Google"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Bigquery::QueryJob::Updater";
  relpath = '../../../../';
</script>


<div class="nav_wrap">
  <iframe id="nav" src="../../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../../_index.html">Index (U)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../QueryJob.html" title="Google::Cloud::Bigquery::QueryJob (class)">QueryJob</a></span></span>
     &raquo; 
    <span class="title">Updater</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Class: Google::Cloud::Bigquery::QueryJob::Updater
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../QueryJob.html" title="Google::Cloud::Bigquery::QueryJob (class)">Google::Cloud::Bigquery::QueryJob</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Job.html" title="Google::Cloud::Bigquery::Job (class)">Job</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../QueryJob.html" title="Google::Cloud::Bigquery::QueryJob (class)">Google::Cloud::Bigquery::QueryJob</a></span></li>
          
            <li class="next">Google::Cloud::Bigquery::QueryJob::Updater</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/bigquery/query_job.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Yielded to a block to accumulate changes for a patch request.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Attributes
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cache=-instance_method" title="#cache= (instance method)">#<strong>cache=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Specifies to look in the query cache for results.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create=-instance_method" title="#create= (instance method)">#<strong>create=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the create disposition for creating the query results table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dataset=-instance_method" title="#dataset= (instance method)">#<strong>dataset=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the default dataset of tables referenced in the query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encryption=-instance_method" title="#encryption= (instance method)">#<strong>encryption=</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the encryption configuration of the destination table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#external=-instance_method" title="#external= (instance method)">#<strong>external=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets definitions for external tables used in the query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten=-instance_method" title="#flatten= (instance method)">#<strong>flatten=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Flatten nested and repeated fields in legacy SQL queries.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#labels=-instance_method" title="#labels= (instance method)">#<strong>labels=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the labels to use for the job.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#large_results=-instance_method" title="#large_results= (instance method)">#<strong>large_results=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Allow large results for a legacy SQL query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#legacy_sql=-instance_method" title="#legacy_sql= (instance method)">#<strong>legacy_sql=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the query syntax to legacy SQL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#location=-instance_method" title="#location= (instance method)">#<strong>location=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the geographic location where the job should run.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maximum_bytes_billed=-instance_method" title="#maximum_bytes_billed= (instance method)">#<strong>maximum_bytes_billed=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the maximum bytes billed for the query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#params=-instance_method" title="#params= (instance method)">#<strong>params=</strong>(params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the query parameters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#priority=-instance_method" title="#priority= (instance method)">#<strong>priority=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the priority of the query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#standard_sql=-instance_method" title="#standard_sql= (instance method)">#<strong>standard_sql=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the query syntax to standard SQL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#table=-instance_method" title="#table= (instance method)">#<strong>table=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the destination for the query results table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_partitioning_expiration=-instance_method" title="#time_partitioning_expiration= (instance method)">#<strong>time_partitioning_expiration=</strong>(expiration)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the partition expiration for the destination table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_partitioning_field=-instance_method" title="#time_partitioning_field= (instance method)">#<strong>time_partitioning_field=</strong>(field)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the field on which to partition the destination table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_partitioning_require_filter=-instance_method" title="#time_partitioning_require_filter= (instance method)">#<strong>time_partitioning_require_filter=</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>If set to true, queries over the destination table will require a partition filter that can be used for partition elimination to be specified.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_partitioning_type=-instance_method" title="#time_partitioning_type= (instance method)">#<strong>time_partitioning_type=</strong>(type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the partitioning for the destination table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#udfs=-instance_method" title="#udfs= (instance method)">#<strong>udfs=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets user defined functions for the query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write=-instance_method" title="#write= (instance method)">#<strong>write=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the write disposition for when the query results table exists.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../QueryJob.html" title="Google::Cloud::Bigquery::QueryJob (class)">Google::Cloud::Bigquery::QueryJob</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../QueryJob.html#batch%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#batch? (method)">#batch?</a></span>, <span class='object_link'><a href="../QueryJob.html#bytes_processed-instance_method" title="Google::Cloud::Bigquery::QueryJob#bytes_processed (method)">#bytes_processed</a></span>, <span class='object_link'><a href="../QueryJob.html#cache%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#cache? (method)">#cache?</a></span>, <span class='object_link'><a href="../QueryJob.html#cache_hit%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#cache_hit? (method)">#cache_hit?</a></span>, <span class='object_link'><a href="../QueryJob.html#data-instance_method" title="Google::Cloud::Bigquery::QueryJob#data (method)">#data</a></span>, <span class='object_link'><a href="../QueryJob.html#ddl_operation_performed-instance_method" title="Google::Cloud::Bigquery::QueryJob#ddl_operation_performed (method)">#ddl_operation_performed</a></span>, <span class='object_link'><a href="../QueryJob.html#ddl_target_table-instance_method" title="Google::Cloud::Bigquery::QueryJob#ddl_target_table (method)">#ddl_target_table</a></span>, <span class='object_link'><a href="../QueryJob.html#destination-instance_method" title="Google::Cloud::Bigquery::QueryJob#destination (method)">#destination</a></span>, <span class='object_link'><a href="../QueryJob.html#encryption-instance_method" title="Google::Cloud::Bigquery::QueryJob#encryption (method)">#encryption</a></span>, <span class='object_link'><a href="../QueryJob.html#flatten%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#flatten? (method)">#flatten?</a></span>, <span class='object_link'><a href="../QueryJob.html#interactive%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#interactive? (method)">#interactive?</a></span>, <span class='object_link'><a href="../QueryJob.html#large_results%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#large_results? (method)">#large_results?</a></span>, <span class='object_link'><a href="../QueryJob.html#legacy_sql%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#legacy_sql? (method)">#legacy_sql?</a></span>, <span class='object_link'><a href="../QueryJob.html#maximum_billing_tier-instance_method" title="Google::Cloud::Bigquery::QueryJob#maximum_billing_tier (method)">#maximum_billing_tier</a></span>, <span class='object_link'><a href="../QueryJob.html#maximum_bytes_billed-instance_method" title="Google::Cloud::Bigquery::QueryJob#maximum_bytes_billed (method)">#maximum_bytes_billed</a></span>, <span class='object_link'><a href="../QueryJob.html#query_plan-instance_method" title="Google::Cloud::Bigquery::QueryJob#query_plan (method)">#query_plan</a></span>, <span class='object_link'><a href="../QueryJob.html#standard_sql%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#standard_sql? (method)">#standard_sql?</a></span>, <span class='object_link'><a href="../QueryJob.html#statement_type-instance_method" title="Google::Cloud::Bigquery::QueryJob#statement_type (method)">#statement_type</a></span>, <span class='object_link'><a href="../QueryJob.html#time_partitioning%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#time_partitioning? (method)">#time_partitioning?</a></span>, <span class='object_link'><a href="../QueryJob.html#time_partitioning_expiration-instance_method" title="Google::Cloud::Bigquery::QueryJob#time_partitioning_expiration (method)">#time_partitioning_expiration</a></span>, <span class='object_link'><a href="../QueryJob.html#time_partitioning_field-instance_method" title="Google::Cloud::Bigquery::QueryJob#time_partitioning_field (method)">#time_partitioning_field</a></span>, <span class='object_link'><a href="../QueryJob.html#time_partitioning_require_filter%3F-instance_method" title="Google::Cloud::Bigquery::QueryJob#time_partitioning_require_filter? (method)">#time_partitioning_require_filter?</a></span>, <span class='object_link'><a href="../QueryJob.html#time_partitioning_type-instance_method" title="Google::Cloud::Bigquery::QueryJob#time_partitioning_type (method)">#time_partitioning_type</a></span>, <span class='object_link'><a href="../QueryJob.html#udfs-instance_method" title="Google::Cloud::Bigquery::QueryJob#udfs (method)">#udfs</a></span>, <span class='object_link'><a href="../QueryJob.html#wait_until_done!-instance_method" title="Google::Cloud::Bigquery::QueryJob#wait_until_done! (method)">#wait_until_done!</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Job.html" title="Google::Cloud::Bigquery::Job (class)">Job</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Job.html#cancel-instance_method" title="Google::Cloud::Bigquery::Job#cancel (method)">#cancel</a></span>, <span class='object_link'><a href="../Job.html#configuration-instance_method" title="Google::Cloud::Bigquery::Job#configuration (method)">#configuration</a></span>, <span class='object_link'><a href="../Job.html#created_at-instance_method" title="Google::Cloud::Bigquery::Job#created_at (method)">#created_at</a></span>, <span class='object_link'><a href="../Job.html#done%3F-instance_method" title="Google::Cloud::Bigquery::Job#done? (method)">#done?</a></span>, <span class='object_link'><a href="../Job.html#ended_at-instance_method" title="Google::Cloud::Bigquery::Job#ended_at (method)">#ended_at</a></span>, <span class='object_link'><a href="../Job.html#error-instance_method" title="Google::Cloud::Bigquery::Job#error (method)">#error</a></span>, <span class='object_link'><a href="../Job.html#errors-instance_method" title="Google::Cloud::Bigquery::Job#errors (method)">#errors</a></span>, <span class='object_link'><a href="../Job.html#failed%3F-instance_method" title="Google::Cloud::Bigquery::Job#failed? (method)">#failed?</a></span>, <span class='object_link'><a href="../Job.html#job_id-instance_method" title="Google::Cloud::Bigquery::Job#job_id (method)">#job_id</a></span>, <span class='object_link'><a href="../Job.html#labels-instance_method" title="Google::Cloud::Bigquery::Job#labels (method)">#labels</a></span>, <span class='object_link'><a href="../Job.html#location-instance_method" title="Google::Cloud::Bigquery::Job#location (method)">#location</a></span>, <span class='object_link'><a href="../Job.html#pending%3F-instance_method" title="Google::Cloud::Bigquery::Job#pending? (method)">#pending?</a></span>, <span class='object_link'><a href="../Job.html#project_id-instance_method" title="Google::Cloud::Bigquery::Job#project_id (method)">#project_id</a></span>, <span class='object_link'><a href="../Job.html#reload!-instance_method" title="Google::Cloud::Bigquery::Job#reload! (method)">#reload!</a></span>, <span class='object_link'><a href="../Job.html#rerun!-instance_method" title="Google::Cloud::Bigquery::Job#rerun! (method)">#rerun!</a></span>, <span class='object_link'><a href="../Job.html#running%3F-instance_method" title="Google::Cloud::Bigquery::Job#running? (method)">#running?</a></span>, <span class='object_link'><a href="../Job.html#started_at-instance_method" title="Google::Cloud::Bigquery::Job#started_at (method)">#started_at</a></span>, <span class='object_link'><a href="../Job.html#state-instance_method" title="Google::Cloud::Bigquery::Job#state (method)">#state</a></span>, <span class='object_link'><a href="../Job.html#statistics-instance_method" title="Google::Cloud::Bigquery::Job#statistics (method)">#statistics</a></span>, <span class='object_link'><a href="../Job.html#status-instance_method" title="Google::Cloud::Bigquery::Job#status (method)">#status</a></span>, <span class='object_link'><a href="../Job.html#user_email-instance_method" title="Google::Cloud::Bigquery::Job#user_email (method)">#user_email</a></span>, <span class='object_link'><a href="../Job.html#wait_until_done!-instance_method" title="Google::Cloud::Bigquery::Job#wait_until_done! (method)">#wait_until_done!</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="cache=-instance_method">
  
    #<strong>cache=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Specifies to look in the query cache for results.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Whether to look for the result in the query
cache. The query cache is a best-effort cache that will be flushed
whenever tables in the query are modified. The default value is
true. For more information, see <a href="https://developers.google.com/bigquery/querying-data">query
caching</a>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


567
568
569</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 567</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cache='>cache=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_use_query_cache'>use_query_cache</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create=-instance_method">
  
    #<strong>create=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the create disposition for creating the query results table.</p>

<p>create new tables. The default value is <code>needed</code>.</p>

<p>The following values are supported:</p>

<ul>
<li><code>needed</code> - Create the table if it does not exist.</li>
<li><code>never</code> - The table must already exist. A &#39;notFound&#39; error is
raised if the table does not exist.</li>
</ul>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Specifies whether the job is allowed to</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


656
657
658
659</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 656</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create='>create=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_create_disposition'>create_disposition</span> <span class='op'>=</span>
    <span class='const'>Convert</span><span class='period'>.</span><span class='id identifier rubyid_create_disposition'>create_disposition</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dataset=-instance_method">
  
    #<strong>dataset=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the default dataset of tables referenced in the query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Dataset.html" title="Google::Cloud::Bigquery::Dataset (class)">Dataset</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The default dataset to use for unqualified
table names in the query.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


604
605
606
607</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 604</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dataset='>dataset=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_default_dataset'>default_dataset</span> <span class='op'>=</span>
    <span class='ivar'>@service</span><span class='period'>.</span><span class='id identifier rubyid_dataset_ref_from'>dataset_ref_from</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="encryption=-instance_method">
  
    #<strong>encryption=</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the encryption configuration of the destination table.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/bigquery</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_bigquery'>bigquery</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Bigquery.html#new-class_method" title="Google::Cloud::Bigquery.new (method)">new</a></span></span>
<span class='id identifier rubyid_dataset'>dataset</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_dataset</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_key_name'>key_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects/a/locations/b/keyRings/c/cryptoKeys/d</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_encrypt_config'>encrypt_config</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_encryption'>encryption</span> <span class='label'>kms_key:</span> <span class='id identifier rubyid_key_name'>key_name</span>
<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_query_job'>query_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT 1;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_table'>table</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_table'>table</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_table</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>skip_lookup:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_encryption'>encryption</span> <span class='op'>=</span> <span class='id identifier rubyid_encrypt_config'>encrypt_config</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'>(<tt>Google::Cloud::BigQuery::EncryptionConfiguration</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Custom encryption configuration (e.g., Cloud KMS keys).</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


809
810
811
812
813</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 809</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encryption='>encryption=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span>
    <span class='label'>destination_encryption_configuration:</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_gapi'>to_gapi</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="external=-instance_method">
  
    #<strong>external=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets definitions for external tables used in the query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Hash&lt;String|Symbol, <span class='object_link'><a href="../External/DataSource.html" title="Google::Cloud::Bigquery::External::DataSource (class)">External::DataSource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A Hash
that represents the mapping of the external tables to the table
names used in the SQL query. The hash keys are the table names,
and the hash values are the external table objects.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


764
765
766
767
768
769
770</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 764</span>

<span class='kw'>def</span> <span class='id identifier rubyid_external='>external=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_external_table_pairs'>external_table_pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='const'>String</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_to_gapi'>to_gapi</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_external_table_hash'>external_table_hash</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_external_table_pairs'>external_table_pairs</span><span class='rbracket'>]</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_table_definitions'>table_definitions</span> <span class='op'>=</span> <span class='id identifier rubyid_external_table_hash'>external_table_hash</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten=-instance_method">
  
    #<strong>flatten=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Flatten nested and repeated fields in legacy SQL queries.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>This option is specific to Legacy SQL.
Flattens all nested and repeated fields in the query results. The
default value is <code>true</code>. <code>large_results</code> parameter must be <code>true</code>
if this is set to <code>false</code>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


593
594
595</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 593</span>

<span class='kw'>def</span> <span class='id identifier rubyid_flatten='>flatten=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_flatten_results'>flatten_results</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="labels=-instance_method">
  
    #<strong>labels=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the labels to use for the job.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A hash of user-provided labels associated with
the job. You can use these to organize and group your jobs. Label
keys and values can be no longer than 63 characters, can only
contain lowercase letters, numeric characters, underscores and
dashes. International characters are allowed. Label values are
optional. Label keys must start with a letter and each label in
the list must have a different key.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


718
719
720</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 718</span>

<span class='kw'>def</span> <span class='id identifier rubyid_labels='>labels=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span> <span class='label'>labels:</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="large_results=-instance_method">
  
    #<strong>large_results=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Allow large results for a legacy SQL query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>This option is specific to Legacy SQL.
If <code>true</code>, allows the query to produce arbitrarily large result
tables at a slight cost in performance. Requires <code>table</code> parameter
to be set.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


580
581
582</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 580</span>

<span class='kw'>def</span> <span class='id identifier rubyid_large_results='>large_results=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_allow_large_results'>allow_large_results</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="legacy_sql=-instance_method">
  
    #<strong>legacy_sql=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the query syntax to legacy SQL.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Specifies whether to use BigQuery&#39;s <a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql">legacy
SQL</a>
dialect for this query. If set to false, the query will use
BigQuery&#39;s <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/">standard
SQL</a>
dialect. Optional. The default value is false.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


734
735
736</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 734</span>

<span class='kw'>def</span> <span class='id identifier rubyid_legacy_sql='>legacy_sql=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_use_legacy_sql'>use_legacy_sql</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="location=-instance_method">
  
    #<strong>location=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the geographic location where the job should run. Required
except for US and EU.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/bigquery</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_bigquery'>bigquery</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Bigquery.html#new-class_method" title="Google::Cloud::Bigquery.new (method)">new</a></span></span>
<span class='id identifier rubyid_dataset'>dataset</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_dataset</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_query_job'>query_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT 1;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_table'>table</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_table'>table</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_table</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>skip_lookup:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EU</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A geographic location, such as &quot;US&quot;, &quot;EU&quot; or
&quot;asia-northeast1&quot;. Required except for US and EU.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


537
538
539
540
541
542
543
544</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 537</span>

<span class='kw'>def</span> <span class='id identifier rubyid_location='>location=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_job_reference'>job_reference</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='comment'># Treat assigning value of nil the same as unsetting the value.
</span>  <span class='id identifier rubyid_unset'>unset</span> <span class='op'>=</span> <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_job_reference'>job_reference</span><span class='period'>.</span><span class='id identifier rubyid_instance_variables'>instance_variables</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:@location</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_job_reference'>job_reference</span><span class='period'>.</span><span class='id identifier rubyid_remove_instance_variable'>remove_instance_variable</span> <span class='symbol'>:@location</span> <span class='kw'>if</span> <span class='id identifier rubyid_unset'>unset</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maximum_bytes_billed=-instance_method">
  
    #<strong>maximum_bytes_billed=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the maximum bytes billed for the query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Limits the bytes billed for this job.
Queries that will have bytes billed beyond this limit will fail
(without incurring a charge). Optional. If unspecified, this will
be set to your project default.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


701
702
703</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 701</span>

<span class='kw'>def</span> <span class='id identifier rubyid_maximum_bytes_billed='>maximum_bytes_billed=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_maximum_bytes_billed'>maximum_bytes_billed</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="params=-instance_method">
  
    #<strong>params=</strong>(params)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the query parameters. Standard SQL only.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Array</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Used to pass query arguments when the
<code>query</code> string contains either positional (<code>?</code>) or named
(<code>@myparam</code>) query parameters. If value passed is an array
<code>[&quot;foo&quot;]</code>, the query must use positional query parameters. If
value passed is a hash <code>{ myparam: &quot;foo&quot; }</code>, the query must use
named query parameters. When set, <code>legacy_sql</code> will automatically
be set to false and <code>standard_sql</code> to true.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 621</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params='>params=</span> <span class='id identifier rubyid_params'>params</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_params'>params</span>
  <span class='kw'>when</span> <span class='const'>Array</span> <span class='kw'>then</span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_use_legacy_sql'>use_legacy_sql</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_parameter_mode'>parameter_mode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POSITIONAL</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_query_parameters'>query_parameters</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
      <span class='const'>Convert</span><span class='period'>.</span><span class='id identifier rubyid_to_query_param'>to_query_param</span> <span class='id identifier rubyid_param'>param</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'>Hash</span> <span class='kw'>then</span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_use_legacy_sql'>use_legacy_sql</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_parameter_mode'>parameter_mode</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NAMED</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_query_parameters'>query_parameters</span> <span class='op'>=</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
        <span class='const'>Convert</span><span class='period'>.</span><span class='id identifier rubyid_to_query_param'>to_query_param</span><span class='lparen'>(</span><span class='id identifier rubyid_param'>param</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_named_param'>named_param</span><span class='op'>|</span>
          <span class='id identifier rubyid_named_param'>named_param</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='const'>String</span> <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Query parameters must be an Array or a Hash.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="priority=-instance_method">
  
    #<strong>priority=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the priority of the query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Specifies a priority for the query. Possible
values include <code>INTERACTIVE</code> and <code>BATCH</code>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


553
554
555</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 553</span>

<span class='kw'>def</span> <span class='id identifier rubyid_priority='>priority=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_priority'>priority</span> <span class='op'>=</span> <span class='id identifier rubyid_priority_value'>priority_value</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="standard_sql=-instance_method">
  
    #<strong>standard_sql=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the query syntax to standard SQL.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Specifies whether to use BigQuery&#39;s <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/">standard
SQL</a>
dialect for this query. If set to true, the query will use
standard SQL rather than the <a href="https://cloud.google.com/bigquery/docs/reference/legacy-sql">legacy
SQL</a>
dialect. Optional. The default value is true.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


750
751
752</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 750</span>

<span class='kw'>def</span> <span class='id identifier rubyid_standard_sql='>standard_sql=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_use_legacy_sql'>use_legacy_sql</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="table=-instance_method">
  
    #<strong>table=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the destination for the query results table.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Table.html" title="Google::Cloud::Bigquery::Table (class)">Table</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The destination table where the query results
should be stored. If not present, a new table will be created
according to the create disposition to store the results.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


688
689
690</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 688</span>

<span class='kw'>def</span> <span class='id identifier rubyid_table='>table=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_destination_table'>destination_table</span> <span class='op'>=</span> <span class='id identifier rubyid_table_ref_from'>table_ref_from</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="time_partitioning_expiration=-instance_method">
  
    #<strong>time_partitioning_expiration=</strong>(expiration)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the partition expiration for the destination table. See
<a href="https://cloud.google.com/bigquery/docs/partitioned-tables">Partitioned
Tables</a>.</p>

<p>The destination table must also be partitioned. See
<span class='object_link'><a href="#time_partitioning_type=-instance_method" title="Google::Cloud::Bigquery::QueryJob::Updater#time_partitioning_type= (method)">#time_partitioning_type=</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/bigquery</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_bigquery'>bigquery</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Bigquery.html#new-class_method" title="Google::Cloud::Bigquery.new (method)">new</a></span></span>
<span class='id identifier rubyid_dataset'>dataset</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_dataset</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_query_job'>query_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT * FROM UNNEST(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GENERATE_TIMESTAMP_ARRAY(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-01 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-10 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERVAL 1 DAY)) AS dob</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_job'>job</span><span class='op'>|</span>
  <span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning_type'>time_partitioning_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DAY</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning_expiration'>time_partitioning_expiration</span> <span class='op'>=</span> <span class='int'>86_400</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_wait_until_done!'>wait_until_done!</span>
<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; true</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>expiration</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An expiration time, in seconds,
for data in partitions.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


926
927
928
929
930
931</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 926</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_partitioning_expiration='>time_partitioning_expiration=</span> <span class='id identifier rubyid_expiration'>expiration</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span> <span class='op'>||=</span> \
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Apis</span><span class='op'>::</span><span class='const'>BigqueryV2</span><span class='op'>::</span><span class='const'>TimePartitioning</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span> \
    <span class='label'>expiration_ms:</span> <span class='id identifier rubyid_expiration'>expiration</span> <span class='op'>*</span> <span class='int'>1000</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="time_partitioning_field=-instance_method">
  
    #<strong>time_partitioning_field=</strong>(field)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the field on which to partition the destination table. If not
set, the destination table is partitioned by pseudo column
<code>_PARTITIONTIME</code>; if set, the table is partitioned by this field.
See <a href="https://cloud.google.com/bigquery/docs/partitioned-tables">Partitioned
Tables</a>.</p>

<p>The destination table must also be partitioned. See
<span class='object_link'><a href="#time_partitioning_type=-instance_method" title="Google::Cloud::Bigquery::QueryJob::Updater#time_partitioning_type= (method)">#time_partitioning_type=</a></span>.</p>

<p>You can only set the partitioning field while creating a table.
BigQuery does not allow you to change partitioning on an existing
table.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/bigquery</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_bigquery'>bigquery</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Bigquery.html#new-class_method" title="Google::Cloud::Bigquery.new (method)">new</a></span></span>
<span class='id identifier rubyid_dataset'>dataset</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_dataset</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_query_job'>query_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT * FROM UNNEST(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GENERATE_TIMESTAMP_ARRAY(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-01 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-10 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERVAL 1 DAY)) AS dob</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_job'>job</span><span class='op'>|</span>
  <span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning_type'>time_partitioning_type</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DAY</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning_field'>time_partitioning_field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dob</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_wait_until_done!'>wait_until_done!</span>
<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; true</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>field</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The partition field. The field must be a
top-level TIMESTAMP or DATE field. Its mode must be NULLABLE or
REQUIRED.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


889
890
891
892
893</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 889</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_partitioning_field='>time_partitioning_field=</span> <span class='id identifier rubyid_field'>field</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span> <span class='op'>||=</span> \
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Apis</span><span class='op'>::</span><span class='const'>BigqueryV2</span><span class='op'>::</span><span class='const'>TimePartitioning</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="time_partitioning_require_filter=-instance_method">
  
    #<strong>time_partitioning_require_filter=</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>If set to true, queries over the destination table will require a
partition filter that can be used for partition elimination to be
specified. See <a href="https://cloud.google.com/bigquery/docs/partitioned-tables">Partitioned
Tables</a>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Indicates if queries over the destination table
will require a partition filter. The default value is <code>false</code>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


944
945
946
947
948
949</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 944</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_partitioning_require_filter='>time_partitioning_require_filter=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span> <span class='op'>||=</span> \
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Apis</span><span class='op'>::</span><span class='const'>BigqueryV2</span><span class='op'>::</span><span class='const'>TimePartitioning</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span> \
    <span class='label'>require_partition_filter:</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="time_partitioning_type=-instance_method">
  
    #<strong>time_partitioning_type=</strong>(type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the partitioning for the destination table. See <a href="https://cloud.google.com/bigquery/docs/partitioned-tables">Partitioned
Tables</a>.</p>

<p>You can only set the partitioning field while creating a table.
BigQuery does not allow you to change partitioning on an existing
table.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/bigquery</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_bigquery'>bigquery</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Bigquery.html" title="Google::Cloud::Bigquery (module)">Bigquery</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Bigquery.html#new-class_method" title="Google::Cloud::Bigquery.new (method)">new</a></span></span>
<span class='id identifier rubyid_dataset'>dataset</span> <span class='op'>=</span> <span class='id identifier rubyid_bigquery'>bigquery</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_dataset</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_query_job'>query_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT * FROM UNNEST(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GENERATE_TIMESTAMP_ARRAY(</span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-01 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;2018-10-10 00:00:00&#39;, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERVAL 1 DAY)) AS dob</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_job'>job</span><span class='op'>|</span>
  <span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning_type'>time_partitioning_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DAY</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_wait_until_done!'>wait_until_done!</span>
<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; true</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The partition type. Currently the only
supported value is &quot;DAY&quot;.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


845
846
847
848
849</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 845</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_partitioning_type='>time_partitioning_type=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span> <span class='op'>||=</span> \
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Apis</span><span class='op'>::</span><span class='const'>BigqueryV2</span><span class='op'>::</span><span class='const'>TimePartitioning</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_time_partitioning'>time_partitioning</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span> <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="udfs=-instance_method">
  
    #<strong>udfs=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets user defined functions for the query.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>User-defined function resources
used in the query. May be either a code resource to load from a
Google Cloud Storage URI (<code>gs://bucket/path</code>), or an inline
resource that contains code for a user-defined function (UDF).
Providing an inline code resource is equivalent to providing a URI
for a file containing the same code. See <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions">User-Defined
Functions</a>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


784
785
786
787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 784</span>

<span class='kw'>def</span> <span class='id identifier rubyid_udfs='>udfs=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_user_defined_function_resources'>user_defined_function_resources</span> <span class='op'>=</span>
    <span class='id identifier rubyid_udfs_gapi_from'>udfs_gapi_from</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write=-instance_method">
  
    #<strong>write=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the write disposition for when the query results table exists.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Specifies the action that occurs if the
destination table already exists. The default value is <code>empty</code>.</p>

<p>The following values are supported:</p>

<ul>
<li><code>truncate</code> - BigQuery overwrites the table data.</li>
<li><code>append</code> - BigQuery appends the data to the table.</li>
<li><code>empty</code> - A &#39;duplicate&#39; error is returned in the job result if
the table exists and contains data.</li>
</ul>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


675
676
677
678</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/bigquery/query_job.rb', line 675</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write='>write=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@gapi</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_write_disposition'>write_disposition</span> <span class='op'>=</span>
    <span class='const'>Convert</span><span class='period'>.</span><span class='id identifier rubyid_write_disposition'>write_disposition</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
