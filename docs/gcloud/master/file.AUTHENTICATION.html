---
layout: yard_main
title: "File: AUTHENTICATION - Gcloud"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "AUTHENTICATION";
  relpath = '';
</script>


<div class="nav_wrap">
  <iframe id="nav" src="file_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: AUTHENTICATION</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><div id='filecontents'><h2>With <code>google-cloud-ruby</code></h2>

<p>With <code>google-cloud-ruby</code> it&#39;s incredibly easy to get authenticated and start using Google&#39;s APIs. You can set your credentials on a global basis as well as on a per-API basis.</p>

<h3>Google Cloud Platform environments</h3>

<p>While running on Google Cloud Platform environments such as Google Compute Engine, Google App Engine and Google Kubernetes Engine, no extra work is needed. The <strong>Project ID</strong> and <strong>Credentials</strong> and are discovered automatically. Code should be written as if already authenticated.</p>

<h3>Project and Credential Lookup</h3>

<p>The google-cloud library aims to make authentication as simple as possible, and provides several mechanisms to configure your system without providing <strong>Project ID</strong> and <strong>Service Account Credentials</strong> directly in code.</p>

<p><strong>Project ID</strong> is discovered in the following order:</p>

<ol>
<li>Specify project ID in code</li>
<li>Discover project ID in environment variables</li>
<li>Discover GCE project ID</li>
</ol>

<p><strong>Credentials</strong> are discovered in the following order:</p>

<ol>
<li>Specify credentials in code</li>
<li>Discover credentials path in environment variables</li>
<li>Discover credentials JSON in environment variables</li>
<li>Discover credentials file in the Cloud SDK&#39;s path</li>
<li>Discover GCE credentials</li>
</ol>

<h3>Environment Variables</h3>

<p>The <strong>Project ID</strong> and <strong>Credentials JSON</strong> can be placed in environment variables instead of declaring them directly in code. Each service has its own environment variable, allowing for different service accounts to be used for different services. The path to the <strong>Credentials JSON</strong> file can be stored in the environment variable, or the <strong>Credentials JSON</strong> itself can be stored for environments such as Docker containers where writing files is difficult or not encouraged.</p>

<p>Here are the environment variables (in the order they are checked) for project ID:</p>

<ol>
<li><code>GOOGLE_CLOUD_PROJECT</code></li>
</ol>

<p>Here are the environment variables (in the order they are checked) for credentials:</p>

<ol>
<li><code>GOOGLE_CLOUD_KEYFILE</code> - Path to JSON file</li>
<li><code>GOOGLE_CLOUD_KEYFILE_JSON</code> - JSON contents</li>
</ol>
</div></div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
