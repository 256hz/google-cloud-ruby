---
layout: yard_main
title: "Class: Google::Cloud::Speech::Project - Google"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Speech::Project";
  relpath = '../../../';
</script>


<div class="nav_wrap">
  <iframe id="nav" src="../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span>
     &raquo; 
    <span class="title">Project</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Class: Google::Cloud::Speech::Project
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Google::Cloud::Speech::Project</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/speech/project.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>Project</h1>

<p>The Google Cloud Speech API enables developers to convert audio to text
by applying powerful neural network models. The API recognizes over 80
languages and variants, to support your global user base. You can
transcribe the text of users dictating to an application&#39;s microphone,
enable command-and-control through voice, or transcribe audio files,
among many other use cases. Recognize audio uploaded in the request, and
integrate with your audio storage on Google Cloud Storage, by using the
same technology Google uses to power its own products.</p>

<p>See <span class='object_link'><a href="../../Cloud.html#speech-instance_method" title="Google::Cloud#speech (method)">Google::Cloud#speech</a></span></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                     <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>sample_rate:</span> <span class='int'>16000</span>
<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span>

<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_transcript'>transcript</span> <span class='comment'>#=&gt; &quot;how old is the Brooklyn Bridge&quot;
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_confidence'>confidence</span> <span class='comment'>#=&gt; 0.9826789498329163</span></code></pre>
    
  </div>


</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#audio-instance_method" title="#audio (instance method)">#<strong>audio</strong>(source, encoding: nil, language: nil, sample_rate: nil)  &#x21d2; Audio </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new Audio instance from the given source.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation-instance_method" title="#operation (instance method)">#<strong>operation</strong>(id)  &#x21d2; Operation </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs asynchronous speech recognition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process-instance_method" title="#process (instance method)">#<strong>process</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil)  &#x21d2; Operation </a>
    

    
      (also: #long_running_recognize, #recognize_job)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs asynchronous speech recognition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project_id-instance_method" title="#project_id (instance method)">#<strong>project_id</strong>  &#x21d2; Object </a>
    

    
      (also: #project)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Speech project connected to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recognize-instance_method" title="#recognize (instance method)">#<strong>recognize</strong>(source, encoding: nil, language: nil, sample_rate: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil)  &#x21d2; Array&lt;Result&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs synchronous speech recognition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stream-instance_method" title="#stream (instance method)">#<strong>stream</strong>(encoding: nil, language: nil, sample_rate: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil, utterance: nil, interim: nil)  &#x21d2; Stream </a>
    

    
      (also: #stream_recognize)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a Stream object to perform bidirectional streaming speech-recognition: receive results while sending audio.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="audio-instance_method">
  
    #<strong>audio</strong>(source, encoding: nil, language: nil, sample_rate: nil)  &#x21d2; <tt><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new Audio instance from the given source. No API call is
made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                     <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                     <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                     <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>linear16</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
<li><code>ogg_opus</code> - Ogg Mapping for Opus. (OGG_OPUS)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription.</p>

<ul>
<li><code>speex</code> - Speex with header byte. (SPEEX_WITH_HEADER_BYTE)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription. If you must use a low-bitrate encoder,
  OGG_OPUS is preferred.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as
a <a href="https://tools.ietf.org/html/bcp47">BCP-47</a> language code. e.g.
&quot;en-US&quot; for English (United States), &quot;en-GB&quot; for English (United
Kingdom), &quot;fr-FR&quot; for French (France). See <a href="https://cloud.google.com/speech/docs/languages">Language
Support</a> for a list
of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The audio file to be recognized.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#audio-encodings" target="_parent" title="Audio Encodings">Audio Encodings</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#sample-rates" target="_parent" title="Sample Rates">Sample Rates</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#languages" target="_parent" title="Languages">Languages</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></span>
    <span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_source'>from_source</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_encoding'>encoding</span> <span class='kw'>unless</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span> <span class='op'>=</span> <span class='id identifier rubyid_language'>language</span> <span class='kw'>unless</span> <span class='id identifier rubyid_language'>language</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span> <span class='op'>=</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="operation-instance_method">
  
    #<strong>operation</strong>(id)  &#x21d2; <tt><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs asynchronous speech recognition. Requests are processed
asynchronously, meaning a Operation is returned once the audio data
has been sent, and can be refreshed to retrieve recognition results
once the audio data has been processed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_operation'>operation</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1234567890</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The unique identifier for the long running
operation. Required.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A resource represents the long-running,
asynchronous processing of a speech-recognition operation.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/reference/rpc/google.longrunning#google.longrunning.Operations" target="_parent" title="Long-running Operation">Long-running Operation</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


617
618
619
620
621
622</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 617</span>

<span class='kw'>def</span> <span class='id identifier rubyid_operation'>operation</span> <span class='id identifier rubyid_id'>id</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_grpc'>grpc</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_get_op'>get_op</span> <span class='id identifier rubyid_id'>id</span>
  <span class='const'><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_grpc'>from_grpc</span> <span class='id identifier rubyid_grpc'>grpc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process-instance_method">
  
    #<strong>process</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil)  &#x21d2; <tt><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='long_running_recognize-instance_method'>long_running_recognize</span>, <span id='recognize_job-instance_method'>recognize_job</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs asynchronous speech recognition. Requests are processed
asynchronously, meaning a Operation is returned once the audio data
has been sent, and can be refreshed to retrieve recognition results
once the audio data has been processed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                    <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='label'>sample_rate:</span> <span class='int'>16000</span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                    <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='label'>sample_rate:</span> <span class='int'>16000</span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span>
                    <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                    <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='label'>sample_rate:</span> <span class='int'>16000</span><span class='comma'>,</span>
                    <span class='label'>max_alternatives:</span> <span class='int'>10</span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>linear16</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
<li><code>ogg_opus</code> - Ogg Mapping for Opus. (OGG_OPUS)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription.</p>

<ul>
<li><code>speex</code> - Speex with header byte. (SPEEX_WITH_HEADER_BYTE)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription. If you must use a low-bitrate encoder,
  OGG_OPUS is preferred.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as
a <a href="https://tools.ietf.org/html/bcp47">BCP-47</a> language code. e.g.
&quot;en-US&quot; for English (United States), &quot;en-GB&quot; for English (United
Kingdom), &quot;fr-FR&quot; for French (France). See <a href="https://cloud.google.com/speech/docs/languages">Language
Support</a> for a list
of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>words</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, return a list of words with
additional information about each word. Currently, the only
additional information provided is the the start and end time
offsets. See <span class='object_link'><a href="Result.html#words-instance_method" title="Google::Cloud::Speech::Result#words (method)">Result#words</a></span>. Default is <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A resource represents the long-running,
asynchronous processing of a speech-recognition operation.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#async-responses" target="_parent" title="Asynchronous Speech API Responses">Asynchronous Speech API Responses</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 453</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span>
            <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='kw'>nil</span><span class='comma'>,</span>
            <span class='label'>words:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_audio_obj'>audio_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span><span class='comma'>,</span>
                            <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span>

  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span>
    <span class='label'>encoding:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
    <span class='label'>language:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span><span class='comma'>,</span> <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
    <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='comma'>,</span>
    <span class='label'>words:</span> <span class='id identifier rubyid_words'>words</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_grpc'>grpc</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_recognize_async'>recognize_async</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_to_grpc'>to_grpc</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>
  <span class='const'><span class='object_link'><a href="Operation.html" title="Google::Cloud::Speech::Operation (class)">Operation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_grpc'>from_grpc</span> <span class='id identifier rubyid_grpc'>grpc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project_id-instance_method">
  
    #<strong>project_id</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='project-instance_method'>project</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Speech project connected to.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span><span class='lparen'>(</span>
  <span class='label'>project_id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my-project</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>credentials:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/path/to/keyfile.json</span><span class='tstring_end'>&quot;</span></span>
<span class='rparen'>)</span>

<span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span> <span class='comment'>#=&gt; &quot;my-project&quot;</span></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project_id'>project_id</span>
  <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recognize-instance_method">
  
    #<strong>recognize</strong>(source, encoding: nil, language: nil, sample_rate: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs synchronous speech recognition. Sends audio data to the
Speech API, which performs recognition on that data, and returns
results only after all audio has been processed. Limited to audio data
of 1 minute or less in duration.</p>

<p>The Speech API will take roughly the same amount of time to process
audio data sent synchronously as the duration of the supplied audio
data. That is, if you send audio data of 30 seconds in length, expect
the synchronous request to take approximately 30 seconds to return
results.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                           <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                           <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                           <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>sample_rate:</span> <span class='int'>16000</span><span class='comma'>,</span>
                           <span class='label'>max_alternatives:</span> <span class='int'>10</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>linear16</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
<li><code>ogg_opus</code> - Ogg Mapping for Opus. (OGG_OPUS)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription.</p>

<ul>
<li><code>speex</code> - Speex with header byte. (SPEEX_WITH_HEADER_BYTE)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription. If you must use a low-bitrate encoder,
  OGG_OPUS is preferred.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as
a <a href="https://tools.ietf.org/html/bcp47">BCP-47</a> language code. e.g.
&quot;en-US&quot; for English (United States), &quot;en-GB&quot; for English (United
Kingdom), &quot;fr-FR&quot; for French (France). See <a href="https://cloud.google.com/speech/docs/languages">Language
Support</a> for a list
of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>words</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, return a list of words with
additional information about each word. Currently, the only
additional information provided is the the start and end time
offsets. See <span class='object_link'><a href="Result.html#words-instance_method" title="Google::Cloud::Speech::Result#words (method)">Result#words</a></span>. Default is <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The transcribed text of audio recognized.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#synchronous-recognition" target="_parent" title="Synchronous Speech API Recognition">Synchronous Speech API Recognition</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#phrase-hints" target="_parent" title="Phrase Hints">Phrase Hints</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 315</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recognize'>recognize</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span>
              <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span>
              <span class='label'>phrases:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>words:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_audio_obj'>audio_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span><span class='comma'>,</span>
                            <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span>

  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span>
    <span class='label'>encoding:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
    <span class='label'>language:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span><span class='comma'>,</span> <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
    <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='comma'>,</span>
    <span class='label'>words:</span> <span class='id identifier rubyid_words'>words</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_grpc'>grpc</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_recognize_sync'>recognize_sync</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_to_grpc'>to_grpc</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_grpc'>grpc</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result_grpc'>result_grpc</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_grpc'>from_grpc</span> <span class='id identifier rubyid_result_grpc'>result_grpc</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stream-instance_method">
  
    #<strong>stream</strong>(encoding: nil, language: nil, sample_rate: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, words: nil, utterance: nil, interim: nil)  &#x21d2; <tt><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='stream_recognize-instance_method'>stream_recognize</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a Stream object to perform bidirectional streaming
speech-recognition: receive results while sending audio.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_stream'>stream</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_stream'>stream</span> <span class='label'>encoding:</span> <span class='symbol'>:linear16</span><span class='comma'>,</span>
                       <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en-US</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                       <span class='label'>sample_rate:</span> <span class='int'>16000</span>

<span class='comment'># Stream 5 seconds of audio from the microphone
</span><span class='comment'># Actual implementation of microphone input varies by platform
</span><span class='int'>5</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='const'>MicrophoneInput</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>32000</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
<span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_wait_until_complete!'>wait_until_complete!</span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span>
<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_transcript'>transcript</span> <span class='comment'>#=&gt; &quot;how old is the Brooklyn Bridge&quot;
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_confidence'>confidence</span> <span class='comment'>#=&gt; 0.9826789498329163</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>linear16</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
<li><code>ogg_opus</code> - Ogg Mapping for Opus. (OGG_OPUS)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription.</p>

<ul>
<li><code>speex</code> - Speex with header byte. (SPEEX_WITH_HEADER_BYTE)</li>
</ul>

<p>Lossy codecs do not recommend, as they result in a lower-quality
  speech transcription. If you must use a low-bitrate encoder,
  OGG_OPUS is preferred.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as
a <a href="https://tools.ietf.org/html/bcp47">BCP-47</a> language code. e.g.
&quot;en-US&quot; for English (United States), &quot;en-GB&quot; for English (United
Kingdom), &quot;fr-FR&quot; for French (France). See <a href="https://cloud.google.com/speech/docs/languages">Language
Support</a> for a list
of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>words</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, return a list of words with
additional information about each word. Currently, the only
additional information provided is the the start and end time
offsets. See <span class='object_link'><a href="Result.html#words-instance_method" title="Google::Cloud::Speech::Result#words (method)">Result#words</a></span>. Default is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>utterance</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will perform
continuous recognition (continuing to process audio even if the user
pauses speaking) until the client closes the output stream (gRPC
API) or when the maximum time limit has been reached. Default is
<code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>interim</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, interim results (tentative
hypotheses) may be returned as they become available. Default is
<code>false</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A resource that represents the streaming requests and
responses.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#streaming-recognition" target="_parent" title="Streaming Speech API Recognition Requests">Streaming Speech API Recognition Requests</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 568</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stream'>stream</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span>
           <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='kw'>nil</span><span class='comma'>,</span>
           <span class='label'>words:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>utterance:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>interim:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_grpc_req'>grpc_req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="V1.html" title="Google::Cloud::Speech::V1 (module)">V1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="V1/StreamingRecognizeRequest.html" title="Google::Cloud::Speech::V1::StreamingRecognizeRequest (class)">StreamingRecognizeRequest</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='label'>streaming_config:</span> <span class='const'><span class='object_link'><a href="V1.html" title="Google::Cloud::Speech::V1 (module)">V1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="V1/StreamingRecognitionConfig.html" title="Google::Cloud::Speech::V1::StreamingRecognitionConfig (class)">StreamingRecognitionConfig</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
      <span class='lbrace'>{</span>
        <span class='label'>config:</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span><span class='label'>encoding:</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span><span class='comma'>,</span>
                             <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span><span class='comma'>,</span>
                             <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
                             <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
                             <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span>
                             <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='comma'>,</span> <span class='label'>words:</span> <span class='id identifier rubyid_words'>words</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>single_utterance:</span> <span class='id identifier rubyid_utterance'>utterance</span><span class='comma'>,</span>
        <span class='label'>interim_results:</span> <span class='id identifier rubyid_interim'>interim</span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='const'><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_grpc_req'>grpc_req</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
